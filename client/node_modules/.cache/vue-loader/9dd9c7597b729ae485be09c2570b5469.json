{"remainingRequest":"/home/stylo/bdata/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/stylo/bdata/client/src/components/OSMasterTables.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/stylo/bdata/client/src/components/OSMasterTables.vue","mtime":1600899364970},{"path":"/home/stylo/bdata/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stylo/bdata/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/stylo/bdata/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stylo/bdata/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBQYXRoTWl4aW5zIGZyb20gJy4uL21peGlucy9wYXRoTWl4aW5zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtQYXRoTWl4aW5zXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzcG9uc2U6IFtdLAogICAgICB0ZWNoX2lkOiBbXSwKICAgICAgdGVjaF9tYXA6IHt9LAogICAgICBhZGRGb3JtOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdGFnczogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICB9LAogICAgICBlZGl0Rm9ybTogewogICAgICAgIHRlY2hub2xvZ3lfaWQ6IG51bGwsCiAgICAgICAgb2xkX25hbWU6ICcnLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHRhZ3M6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgfSwKICAgICAgdGVjaDogW3sgdGV4dDogJ1NlbGVjdCBPbmUnLCB2YWx1ZTogbnVsbCB9XSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRPUygpIHsKICAgICAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0X29zX3BhdGg7CiAgICAgIGF4aW9zLmdldChwYXRoKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXMuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSk7CiAgICB9LAogICAgYWRkT1MocGF5bG9hZCkgewogICAgICBjb25zdCBwYXRoID0gdGhpcy5hZGRfb3NfcGF0aDsKICAgICAgYXhpb3MucG9zdChwYXRoLCBwYXlsb2FkKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZ2V0T1MoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIHRoaXMuZ2V0T1MoKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBvblN1Ym1pdChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuJHJlZnMuYWRkT1NNb2RhbC5oaWRlKCk7CiAgICAgIGNvbnN0IHBheWxvYWQgPSB7CiAgICAgICAgdGVjaG5vbG9neV9pZDogdGhpcy50ZWNoX21hcFt0aGlzLmFkZEZvcm0uaWRdLAogICAgICAgIE9TX3RlY2hub2xvZ3lfbmFtZTogdGhpcy5hZGRGb3JtLm5hbWUsCiAgICAgICAgT1NfdGVjaF9kZXBlbmRhbnRfdGFnczogdGhpcy5hZGRGb3JtLnRhZ3MsCiAgICAgICAgT1NfdGVjaF9kZXNjcmlwdGlvbjogdGhpcy5hZGRGb3JtLmRlc2NyaXB0aW9uLAogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKTsKICAgICAgdGhpcy5hZGRPUyhwYXlsb2FkKTsKICAgIH0sCiAgICBnZXRUZWNoSWQoKSB7CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldF90ZWNoX3BhdGg7CiAgICAgIGF4aW9zLmdldChwYXRoKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMudGVjaF9pZCA9IHJlcy5kYXRhOwogICAgICAgICAgbGV0IGk7CiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50ZWNoX2lkLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICAgIGlmICghdGhpcy50ZWNoLmluY2x1ZGVzKHRoaXMudGVjaF9pZFtpXS50ZWNobm9sb2d5X2lkKSkgewogICAgICAgICAgICAgIHRoaXMudGVjaC5wdXNoKHRoaXMudGVjaF9pZFtpXS50ZWNobm9sb2d5X25hbWUpOwogICAgICAgICAgICAgIHRoaXMudGVjaF9tYXBbdGhpcy50ZWNoX2lkW2ldLnRlY2hub2xvZ3lfbmFtZV0gPSB0aGlzLnRlY2hfaWRbaV0udGVjaG5vbG9neV9pZDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBlZGl0T1MoZW50cnkpIHsKICAgICAgdGhpcy5lZGl0Rm9ybSA9IGVudHJ5OwogICAgICB0aGlzLmVkaXRGb3JtLm9sZF9uYW1lID0gZW50cnkuT1NfdGVjaG5vbG9neV9uYW1lOwogICAgfSwKICAgIG9uU3VibWl0VXBkYXRlKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy4kcmVmcy5lZGl0T1NNb2RhbC5oaWRlKCk7CiAgICAgIGNvbnN0IHBheWxvYWQgPSB7CiAgICAgICAgdGVjaG5vbG9neV9pZDogdGhpcy50ZWNoX21hcFt0aGlzLmVkaXRGb3JtLnRlY2hub2xvZ3lfaWRdLAogICAgICAgIE9TX3RlY2hub2xvZ3lfbmFtZTogdGhpcy5lZGl0Rm9ybS5vbGRfbmFtZSwKICAgICAgICBPU190ZWNoX2RlcGVuZGFudF90YWdzOiB0aGlzLmVkaXRGb3JtLnRhZ3MsCiAgICAgICAgT1NfdGVjaF9kZXNjcmlwdGlvbjogdGhpcy5lZGl0Rm9ybS5kZXNjcmlwdGlvbiwKICAgICAgfTsKICAgICAgdGhpcy51cGRhdGVPUyhwYXlsb2FkLCB0aGlzLmVkaXRGb3JtLm5hbWUpOwogICAgfSwKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgdXBkYXRlT1MocGF5bG9hZCwgb3NfbmFtZSkgewoKICAgICAgY29uc3QgcGF0aCA9IHRoaXMudXBkYXRlX29zX3BhdGggKyBvc19uYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgIGF4aW9zLnB1dChwYXRoLCBwYXlsb2FkKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuZ2V0T1MoKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICB0aGlzLmdldE9TKCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICByZW1vdmVFbnRyeShvc19uYW1lKSB7CiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmRlbGV0ZV9vc19wYXRoICsgb3NfbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICBheGlvcy5kZWxldGUocGF0aCkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmdldE9TKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgdGhpcy5nZXRPUygpOwogICAgICAgIH0pOwogICAgfSwKICAgIG9uRGVsZXRlRW50cnkoZW50cnkpIHsKICAgICAgdGhpcy5yZW1vdmVFbnRyeShlbnRyeS5PU190ZWNobm9sb2d5X25hbWUpOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE9TKCk7CiAgICB0aGlzLmdldFRlY2hJZCgpOwogICAgY29uc29sZS5sb2coJ1N1Y2Nlc2Z1bC4nKTsKICB9LAp9Owo="},{"version":3,"sources":["OSMasterTables.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OSMasterTables.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n      <div>\n        <b-button v-b-toggle.sidebar-1>...</b-button>\n        <b-sidebar id=\"sidebar-1\" title=\"Tables+\" shadow>\n          <div class=\"px-1 py-2\">\n            <router-link to=\"/tech_master\">Technology Master</router-link> <br>\n            <router-link to=\"/os_tech_master\">OS Tech Master</router-link> <br>\n            <router-link to=\"/data_tech_master\">Data Tech Master</router-link> <br>\n            <router-link to=\"/app_tech_master\">App Tech Master</router-link> <br>\n          </div>\n        </b-sidebar>\n  </div>\n  <div class =\"container\">\n    <div class = \"row justify-content-md-center\">\n      <h1>OS Master</h1>\n    </div>\n    <div class = \"row\">\n      <table class=\"table table-hover\">\n        <thead>\n          <tr>\n            <th scope=\"col\">technology_id</th>\n            <th scope=\"col\">OS_technology_name</th>\n            <th scope=\"col\">OS_tech_dependant_tags</th>\n            <th scope=\"col\">OS_tech_description</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(entry, index) in response\" :key=\"index\">\n            <td>{{ entry.technology_id }}</td>\n            <td>{{ entry.OS_technology_name }}</td>\n            <td>{{ entry.OS_tech_dependant_tags }}</td>\n            <td>{{ entry.OS_tech_description }}</td>\n            <td>\n            </td>\n            <td>\n              <div class=\"btn-group\" role=\"group\">\n                <button type=\"button\" class=\"btn btn-warning btn-sm\"\n                          v-b-modal.os-update-modal\n                          @click=\"editOS(entry)\">\n                          Update\n                </button>\n                <button type=\"button\" class=\"btn btn-danger btn-sm\"\n                          @click=\"onDeleteEntry(entry)\">Delete</button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <button type=\"button\" class=\"btn btn-success btn-sm\" v-b-modal.table-modal>Add</button>\n    </div>\n  </div>\n  <b-modal ref=\"addOSModal\"\n         id=\"table-modal\"\n         title=\"Add an entry to OS Master\"\n         hide-footer>\n    <b-form @submit=\"onSubmit\" class=\"w-100\">\n      <b-form-group id = \"form-os-fk-group\"\n                    label = \"Technology name\"\n                    label-for=\"fk-input\">\n        <b-form-select id ='fk-input'\n                       v-model=\"addForm.id\"\n                       required\n                       :options=\"tech\">\n\n        </b-form-select>\n       </b-form-group>\n      <b-form-group id=\"form-os-name-group\"\n                    label=\"OS_name:\"\n                    label-for=\"form-os-name-input\">\n          <b-form-input id=\"form-os-name-input\"\n                         type=\"text\"\n                         required\n                         maxlength=50\n                         v-model=\"addForm.name\">\n                       </b-form-input>\n      </b-form-group>\n      <b-form-group id=\"form-os-tags-group\"\n                    label=\"OS_tags:\"\n                    label-for=\"form-os-tags-input\">\n          <b-form-input id=\"form-os-tags-input\"\n                         type=\"text\"\n                         required\n                         maxlength=2000\n                         v-model=\"addForm.tags\">\n                       </b-form-input>\n      </b-form-group>\n      <b-form-group id=\"form-os-decription-group\"\n                    label=\"OS_description:\"\n                    label-for=\"form-os-description-input\">\n          <b-form-input id=\"form-os-description-input\"\n                         type=\"text\"\n                         required\n                         maxlength=500\n                         v-model=\"addForm.description\">\n                       </b-form-input>\n      </b-form-group>\n      <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n    </b-form>\n</b-modal>\n<b-modal ref=\"editOSModal\"\n         id=\"os-update-modal\"\n         title=\"Update\"\n         hide-footer>\n  <b-form @submit=\"onSubmitUpdate\" class=\"w-100\">\n    <b-form-group id = \"form-os-fk-edit-group\"\n                  label = \"Technology name\"\n                  label-for=\"fk-edit-input\">\n      <b-form-select id ='fk-edit-input'\n                     v-model=\"editForm.technology_id\"\n                     required\n                     :options=\"tech\">\n\n      </b-form-select>\n    </b-form-group>\n  <b-form-group id=\"form-name-edit-group\"\n                label=\"OS_name:\"\n                label-for=\"form-name-edit-input\">\n      <b-form-input id=\"form-name-edit-input\"\n                    type=\"text\"\n                    v-model=\"editForm.name\"\n                    required\n                    maxlength=50\n                    placeholder=\"Enter name\">\n      </b-form-input>\n    </b-form-group>\n    <b-form-group id=\"form-os-tag-edit-group\"\n                  label=\"OS_tags:\"\n                  label-for=\"form-os-tag-edit-input\">\n        <b-form-input id=\"form-os-tag-edit-input\"\n                      type=\"text\"\n                      v-model=\"editForm.tags\"\n                      required\n                      maxlength=2000\n                      placeholder=\"Enter tags\">\n        </b-form-input>\n      </b-form-group>\n    <b-form-group id=\"form-os-description-edit-group\"\n                  label=\"OS_description:\"\n                  label-for=\"form-os-description-edit-input\">\n      <b-form-input id=\"form-tech-description-edit-input\"\n                    type=\"text\"\n                    v-model=\"editForm.description\"\n                    required\n                    maxlength=500\n                    placeholder=\"Enter description\">\n      </b-form-input>\n    </b-form-group>\n    <b-button-group>\n      <b-button type=\"submit\" variant=\"primary\">Update</b-button>\n      <b-button type=\"reset\" variant=\"danger\">Cancel</b-button>\n    </b-button-group>\n  </b-form>\n</b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport PathMixins from '../mixins/pathMixins';\n\nexport default {\n  mixins: [PathMixins],\n  data() {\n    return {\n      response: [],\n      tech_id: [],\n      tech_map: {},\n      addForm: {\n        id: null,\n        name: '',\n        tags: '',\n        description: '',\n      },\n      editForm: {\n        technology_id: null,\n        old_name: '',\n        name: '',\n        tags: '',\n        description: '',\n      },\n      tech: [{ text: 'Select One', value: null }],\n    };\n  },\n  methods: {\n    getOS() {\n      const path = this.get_os_path;\n      axios.get(path)\n        .then((res) => {\n          this.response = res.data;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n        });\n    },\n    addOS(payload) {\n      const path = this.add_os_path;\n      axios.post(path, payload)\n        .then(() => {\n          this.getOS();\n        })\n        .catch((error) => {\n          console.log(error);\n          this.getOS();\n        });\n    },\n    onSubmit(evt) {\n      evt.preventDefault();\n      this.$refs.addOSModal.hide();\n      const payload = {\n        technology_id: this.tech_map[this.addForm.id],\n        OS_technology_name: this.addForm.name,\n        OS_tech_dependant_tags: this.addForm.tags,\n        OS_tech_description: this.addForm.description,\n      };\n      console.log(payload);\n      this.addOS(payload);\n    },\n    getTechId() {\n      const path = this.get_tech_path;\n      axios.get(path)\n        .then((res) => {\n          this.tech_id = res.data;\n          let i;\n          for (i = 0; i < this.tech_id.length; i += 1) {\n            if (!this.tech.includes(this.tech_id[i].technology_id)) {\n              this.tech.push(this.tech_id[i].technology_name);\n              this.tech_map[this.tech_id[i].technology_name] = this.tech_id[i].technology_id;\n            }\n          }\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n        });\n    },\n    editOS(entry) {\n      this.editForm = entry;\n      this.editForm.old_name = entry.OS_technology_name;\n    },\n    onSubmitUpdate(evt) {\n      evt.preventDefault();\n      this.$refs.editOSModal.hide();\n      const payload = {\n        technology_id: this.tech_map[this.editForm.technology_id],\n        OS_technology_name: this.editForm.old_name,\n        OS_tech_dependant_tags: this.editForm.tags,\n        OS_tech_description: this.editForm.description,\n      };\n      this.updateOS(payload, this.editForm.name);\n    },\n    // eslint-disable-next-line\n    updateOS(payload, os_name) {\n\n      const path = this.update_os_path + os_name; // eslint-disable-line\n      axios.put(path, payload)\n        .then(() => {\n          this.getOS();\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getOS();\n        });\n    },\n    // eslint-disable-next-line\n    removeEntry(os_name) {\n      const path = this.delete_os_path + os_name; // eslint-disable-line\n      axios.delete(path)\n        .then(() => {\n          this.getOS();\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.getOS();\n        });\n    },\n    onDeleteEntry(entry) {\n      this.removeEntry(entry.OS_technology_name);\n    },\n  },\n  created() {\n    this.getOS();\n    this.getTechId();\n    console.log('Succesful.');\n  },\n};\n</script>\n"]}]}